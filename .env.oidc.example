# OpenID Connect Configuration for TinaCMS

# Copy this file to .env.local and fill in your values

# OIDC Provider Configuration - Client Side (Public)
# ===================================================
# These variables are prefixed with NEXT_PUBLIC_ so they are available in the browser
# WARNING: Do NOT put secrets in NEXT_PUBLIC_ variables!

# Client ID from your OIDC provider
NEXT_PUBLIC_OIDC_CLIENT_ID=your-client-id

# Authorization endpoint (where users are redirected to login)
# Example for Keycloak: https://your-keycloak.com/realms/your-realm/protocol/openid-connect/auth
# Example for Auth0: https://your-tenant.auth0.com/authorize
# Example for Okta: https://your-domain.okta.com/oauth2/default/v1/authorize
NEXT_PUBLIC_OIDC_AUTHORIZE_URL=https://your-oidc-provider.com/oauth/authorize

# Token endpoint (where authorization codes are exchanged for tokens)
# Example for Keycloak: https://your-keycloak.com/realms/your-realm/protocol/openid-connect/token
# Example for Auth0: https://your-tenant.auth0.com/oauth/token
# Example for Okta: https://your-domain.okta.com/oauth2/default/v1/token
NEXT_PUBLIC_OIDC_TOKEN_URL=https://your-oidc-provider.com/oauth/token

# UserInfo endpoint (where user details are fetched)
# Example for Keycloak: https://your-keycloak.com/realms/your-realm/protocol/openid-connect/userinfo
# Example for Auth0: https://your-tenant.auth0.com/userinfo
# Example for Okta: https://your-domain.okta.com/oauth2/default/v1/userinfo
NEXT_PUBLIC_OIDC_USERINFO_URL=https://your-oidc-provider.com/oauth/userinfo

# Callback URL (must match what's configured in your OIDC provider)
# For local development: http://localhost:3000
# For production: https://your-domain.com
NEXT_PUBLIC_OIDC_REDIRECT_URI=http://localhost:3000

# Optional: Logout endpoint
# Example for Keycloak: https://your-keycloak.com/realms/your-realm/protocol/openid-connect/logout
# Example for Auth0: https://your-tenant.auth0.com/v2/logout
# Example for Okta: https://your-domain.okta.com/oauth2/default/v1/logout
NEXT_PUBLIC_OIDC_LOGOUT_URL=https://your-oidc-provider.com/oauth/logout

# Optional: OAuth scopes (defaults to "openid profile email")
NEXT_PUBLIC_OIDC_SCOPE=openid profile email

# OIDC Provider Configuration - Server Side (Secret)
# ===================================================
# These variables are only available on the server

# Client Secret from your OIDC provider (NEVER expose this to the client!)
OIDC_CLIENT_SECRET=your-client-secret

# Server-side endpoints (same as client-side, but without NEXT_PUBLIC_ prefix)
OIDC_TOKEN_URL=https://your-oidc-provider.com/oauth/token
OIDC_USERINFO_URL=https://your-oidc-provider.com/oauth/userinfo

# Authorization Rules (Optional)
# ===============================

# Comma-separated list of authorized email addresses
# Example: OIDC_AUTHORIZED_EMAILS=user1@example.com,user2@example.com
OIDC_AUTHORIZED_EMAILS=

# Comma-separated list of authorized email domains
# Example: OIDC_AUTHORIZED_DOMAINS=example.com,mycompany.com
OIDC_AUTHORIZED_DOMAINS=

# TinaCMS Configuration
# =====================

# Set to "false" for production
TINA_PUBLIC_IS_LOCAL=true
